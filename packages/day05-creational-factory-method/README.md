# [Day5] è€é—†ï¼šä¾†ä¸€ç¢—å¤§è…¸éºµç·š â”€ å·¥å» æ–¹æ³•(Factory Method)

å—¨ å¤§å®¶å¥½ æˆ‘æ˜¯ä¸€è·¯çˆ¬å¡çš„é˜¿è‚¥

è½‰çœ¼é–“ ä¸­ç§‹é€£å‡å°±è¦çµæŸäº†  
ä¸éå¾ˆå¿«é›™åé€£å‡å°±å¯ä»¥é£›å»æ¾æ¹–æ¸¡å‡å•¦(ç‘èŠ±)  
å•Š ç­‰ä¸€ä¸‹(æ˜¯çœŸçš„çªç„¶æƒ³åˆ°)  
é‚£ä¸å°±è¡¨ç¤ºå°±é€£åœ¨æ¾æ¹–ä¹Ÿè¦è¨˜å¾—ç™¼æ–‡å— ğŸ˜³

---

## æƒ…å¢ƒæè¿°

é˜¿è‚¥å·¥ä½œå¹¾å¹´å¾Œï¼Œçµ‚æ–¼å­˜åˆ°äº†åœ“å¤¢åŸºé‡‘ï¼Œåœ¨é™„è¿‘å»Ÿå£é–‹ä¸€å®¶éºµç·šåº—ï¼Œå¸Œæœ›å¯ä»¥çœ‹åˆ°æ¯ä½å®¢äººåƒå®Œéºµç·šå¾Œæ»¿è¶³çš„ç¬‘å®¹ã€‚

é˜¿è‚¥åªæœƒåšç°¡å–®çš„æ»·å¤§è…¸è·Ÿè™•ç†èšµä»”ï¼Œæ‰€ä»¥ç›®å‰åªæœ‰å¤§è…¸éºµç·šè·Ÿèšµä»”éºµç·šã€‚å®¢äººåªè¦åœ¨èœå–®ä¸Šå‹¾å“ªä¸€å€‹ï¼Œä¸¦ä¸”äº¤çµ¦é˜¿è‚¥ï¼Œç¨ç­‰ç‰‡å¾…å°±å¯ä»¥æ‹¿åˆ°ç†±é¨°é¨°çš„éºµç·šäº†ã€‚

ç„¶è€Œï¼Œé€™å…©ç¨®éºµç·šçœ‹ä¼¼ä½œæ³•éƒ½å·®ä¸å¤šï¼Œä½†æ˜¯ä»”ç´°ä¸€çœ‹åŸä¾†æœ‰äº›ä¸åŒï¼š

- å¤§è…¸éºµç·šï¼š éºµç·šç³Š > å¤§è…¸ > é¦™èœ > é†‹ ...(å®¢äººçš„éœ€æ±‚) > è£è¢‹
- èšµä»”éºµç·šï¼šéºµç·šç³Š > èšµä»” > èƒ¡æ¤’ç²‰ > è’œæ³¥ ...(å®¢äººçš„éœ€æ±‚) > è£è¢‹

é˜¿è‚¥èªªé€™æ˜¯ä»–çš„å …æŒï¼Œæ¯ç¨®æ–™éƒ½æœ‰å®ƒé©åˆæ­é…çš„ä½æ–™ï¼Œé™¤éå®¢äººæœ‰ç‰¹åˆ¥è¦æ±‚ï¼Œä¸ç„¶é€™å…©ç¨®éºµç·šåŠ çš„æœƒæ˜¯ä¸åŒçš„ä½æ–™

## æš´åŠ›è§£æ±ºæ³•

æ¯æ”¶åˆ°èœå–®ï¼Œé˜¿è‚¥å°±æŒ‰ç…§è…¦æµ·ä¸­çš„é †åºä¸€ä¸€åŠ å…¥ä¸»æ–™è·Ÿä½æ–™ã€‚ä»¥ç¨‹å¼ä¾†çœ‹çš„è©±å°±åƒé€™æ¨£ï¼š

```typescript
type T_Flavor = "intestine" | "oyster";
interface I_Order {
  product: T_Flavor;
  tableware?: string[];
  bag?: boolean;
}

//TODO å¾…æ”¹
class VermicelliStore {
  /**
   * order: æ¥æ”¶èœå–®
   */
  public static order(order: I_Order): I_Order {
    let result: I_Order = { ...order, product: null };
    if (order.product == "intestine")
      result.product = this.makeIntestineFlavor();
    else if (order.product == "oyster")
      result.product = this.makeIntestineFlavor();

    result.product.prepareTableware();
    result.product.bagging();

    return result;
  }
  /**
   * prepareTableware: æº–å‚™é¤å…·
   */
  private static prepareTableware() {
    //...
  }
  /**
   * bagging: æº–å‚™è£è¢‹
   */
  private static bagging() {
    //...
  }
  /**
   * makeIntestineFlavor: è£½ä½œå¤§è…¸éºµç·š
   */
  private static makeIntestineFlavor() {
    //...
  }
  /**
   * makeOysterFlavor: è£½ä½œèšµä»”éºµç·š
   */
  private static makeOysterFlavor() {
    //...
  }
}
```

## ç°¡å–®å·¥å» 

## å·¥å» æ–¹æ³•

## å°çµ

---

### åƒè€ƒè³‡æ–™

- [è¨­è¨ˆæ¨¡å¼ - å·¥å» æ–¹æ³•åŠæŠ½è±¡å·¥å» ](https://blog.techbridge.cc/2017/05/22/factory-method-and-abstract-factory/)
